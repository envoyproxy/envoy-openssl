diff --git a/foreign_cc/built_tools/pkgconfig_build.bzl b/foreign_cc/built_tools/pkgconfig_build.bzl
index 64cb677..9a8c62c 100644
--- a/foreign_cc/built_tools/pkgconfig_build.bzl
+++ b/foreign_cc/built_tools/pkgconfig_build.bzl
@@ -9,6 +9,6 @@ load(
     "built_tool_rule_impl",
 )
 load("//toolchains/native_tools:tool_access.bzl", "get_make_data")

 def _pkgconfig_tool_impl(ctx):
     make_data = get_make_data(ctx)
@@ -18,6 +22,8 @@ def _pkgconfig_tool_impl(ctx):
         "%s install" % make_data.path,
     ]

+    script[0] = "CFLAGS=-Wno-int-conversion CXXFLAGS=-Wno-int-conversion ./configure --with-internal-glib --prefix=$$INSTALLDIR$$"
+
     additional_tools = depset(transitive = [make_data.target.files])

     return built_tool_rule_impl(
diff --git a/toolchains/built_toolchains.bzl b/toolchains/built_toolchains.bzl
index 4f32252..1a9dc57 100644
--- a/toolchains/built_toolchains.bzl
+++ b/toolchains/built_toolchains.bzl
@@ -275,6 +275,9 @@ cc_import(

                 # This patch is required as rules_foreign_cc runs in MSYS2 on Windows and MSYS2's "mkdir" is used
                 Label("//toolchains:pkgconfig-makefile-vc.patch"),
+
+               # This patch is required to overcome type mismatch error
+               Label("//toolchains:pkgconfig-valgrind.patch"),
             ],
             urls = [
                 "https://pkgconfig.freedesktop.org/releases/pkg-config-0.29.2.tar.gz",
diff --git a/toolchains/pkgconfig-valgrind.patch b/toolchains/pkgconfig-valgrind.patch
new file mode 100644
index 0000000..f6f4cc8
--- /dev/null
+++ b/toolchains/pkgconfig-valgrind.patch
@@ -0,0 +1,11 @@
+--- glib/glib/valgrind.h
++++ glib/glib/valgrind.h
+@@ -643,7 +643,7 @@
+                     /* results = r3 */                           \
+                     "lgr %0, 3\n\t"                              \
+                     : "=d" (_zzq_result)                         \
+-                    : "a" (&_zzq_args[0]), "0" (_zzq_default)    \
++                    : "a" (&_zzq_args[0]), "0" ((unsigned long long int)(_zzq_default))    \
+                     : "cc", "2", "3", "memory"                   \
+                    );                                            \
+    _zzq_result;                                                  \
diff --git a/foreign_cc/built_tools/cmake_build.bzl b/foreign_cc/built_tools/cmake_build.bzl
index 5022504..9b5e2cd 100644
--- a/foreign_cc/built_tools/cmake_build.bzl
+++ b/foreign_cc/built_tools/cmake_build.bzl
@@ -8,7 +8,7 @@ def cmake_tool(name, srcs, **kwargs):
     configure_make(
         name = "{}.build".format(name),
         configure_command = "bootstrap",
-        configure_options = ["--", "-DCMAKE_MAKE_PROGRAM=$$MAKE$$"],
+        #configure_options = ["--", "-DCMAKE_MAKE_PROGRAM=$$MAKE$$"],
         # On macOS at least -DDEBUG gets set for a fastbuild
         copts = ["-UDEBUG"],
         lib_source = srcs,
